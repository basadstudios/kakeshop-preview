(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{767:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1719:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},1804:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(2115),i=t(3473),l=t(1719),n=t(6967),o=t(9993);let d=(0,t(7401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=t(767);let m=[{id:"1",name:"Poč\xedtače",slug:"pocitace",description:"Stoln\xed poč\xedtače, komponenty a př\xedslušenstv\xed",image:"/category-computers.jpg",subcategories:[{id:"101",name:"Stoln\xed poč\xedtače",slug:"stolni-pocitace",parentCategoryId:"1",subcategories:[]},{id:"102",name:"Komponenty",slug:"komponenty",parentCategoryId:"1",subcategories:[]},{id:"103",name:"Př\xedslušenstv\xed",slug:"prislusenstvi-pc",parentCategoryId:"1",subcategories:[]}],filterProperties:[{id:"1001",name:"V\xfdrobce",values:["HP","Dell","Lenovo","Asus","MSI","Acer"]},{id:"1002",name:"Procesor",values:["Intel Core i3","Intel Core i5","Intel Core i7","AMD Ryzen 5","AMD Ryzen 7"]}]},{id:"2",name:"Notebooky",slug:"notebooky",description:"Přenosn\xe9 poč\xedtače pro pr\xe1ci i z\xe1bavu",image:"/category-notebooks.jpg",subcategories:[{id:"201",name:"Hern\xed notebooky",slug:"herni-notebooky",parentCategoryId:"2",subcategories:[]},{id:"202",name:"Kancel\xe1řsk\xe9 notebooky",slug:"kancelarske-notebooky",parentCategoryId:"2",subcategories:[]},{id:"203",name:"Ultrabook",slug:"ultrabook",parentCategoryId:"2",subcategories:[]}],filterProperties:[{id:"2001",name:"Velikost displeje",values:['13"','14"','15.6"','17"']},{id:"2002",name:"V\xfdrobce",values:["HP","Dell","Lenovo","Asus","MSI","Acer","Apple"]}]},{id:"3",name:"Mobily",slug:"mobily",description:"Mobiln\xed telefony a př\xedslušenstv\xed",image:"/category-phones.jpg",subcategories:[{id:"301",name:"Chytr\xe9 telefony",slug:"chytre-telefony",parentCategoryId:"3",subcategories:[]},{id:"302",name:"Př\xedslušenstv\xed k telefonům",slug:"prislusenstvi-k-telefonum",parentCategoryId:"3",subcategories:[]}],filterProperties:[{id:"3001",name:"V\xfdrobce",values:["Apple","Samsung","Xiaomi","Huawei","Google","OnePlus"]},{id:"3002",name:"Paměť",values:["64GB","128GB","256GB","512GB"]}]}];function p(){var e;let[s,t]=(0,a.useState)(m),[p,u]=(0,a.useState)({}),[g,x]=(0,a.useState)(null),[h,b]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[w,C]=(0,a.useState)({name:"",slug:"",description:"",parentCategoryId:"",propertyName:"",propertyValues:""}),P=e=>{u(s=>({...s,[e]:!s[e]}))},A=e=>{x(e),b(null)},z=e=>{b(e)},S=e=>{let{name:s,value:t}=e.target;if(C(e=>({...e,[s]:t})),"name"===s){let e=t.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-");C(s=>({...s,slug:e}))}},V=e=>{confirm("Opravdu chcete smazat tuto kategorii? Budou smaz\xe1ny i všechny jej\xed podkategorie.")&&(t(s.filter(s=>s.id!==e)),(null==g?void 0:g.id)===e&&(x(null),b(null)))},I=(e,r)=>{if(confirm("Opravdu chcete smazat tuto podkategorii?")){let a=s.map(s=>s.id===e?{...s,subcategories:(s.subcategories||[]).filter(e=>e.id!==r)}:s);t(a),(null==h?void 0:h.id)===r&&b(null);let i=a.find(s=>s.id===e);i&&(null==g?void 0:g.id)===e&&x(i)}},M=function(e){let r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!g)return;t(r=a&&h?s.map(s=>s.id===g.id?{...s,subcategories:(s.subcategories||[]).map(s=>s.id===h.id?{...s,filterProperties:(s.filterProperties||[]).filter(s=>s.id!==e)}:s)}:s):s.map(s=>s.id===g.id?{...s,filterProperties:(s.filterProperties||[]).filter(s=>s.id!==e)}:s));let i=r.find(e=>e.id===g.id);if(i&&(x(i),h)){var l;let e=null===(l=i.subcategories)||void 0===l?void 0:l.find(e=>e.id===h.id);e&&b(e)}};return(0,r.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,r.jsxs)("div",{className:"container px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Spr\xe1va kategori\xed a filtrů"}),(0,r.jsxs)("button",{onClick:()=>{v(!0),x(null),b(null)},className:"flex items-center gap-2 bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",children:[(0,r.jsx)(i.A,{size:18}),"Přidat kategorii"]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/3 bg-white p-4 rounded-lg shadow-sm",children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Kategorie a podkategorie"}),(0,r.jsx)("div",{className:"space-y-2",children:s.map(e=>{var s;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 cursor-pointer ".concat((null==g?void 0:g.id)===e.id?"bg-carmine/10 border-l-4 border-carmine":"hover:bg-gray-50"),onClick:()=>A(e),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),P(e.id)},className:"p-1",children:p[e.id]?(0,r.jsx)(l.A,{size:16}):(0,r.jsx)(n.A,{size:16})}),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),V(e.id)},className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:16})})})]}),p[e.id]&&(0,r.jsxs)("div",{className:"pl-8 pb-2 border-t border-gray-100",children:[null===(s=e.subcategories)||void 0===s?void 0:s.map(s=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer ".concat((null==h?void 0:h.id)===s.id?"bg-carmine/10":"hover:bg-gray-50"),onClick:()=>{A(e),z(s)},children:[(0,r.jsx)("span",{className:"text-sm",children:s.name}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),I(e.id,s.id)},className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:14})})]},s.id)),(0,r.jsxs)("button",{onClick:()=>{f(!0),A(e),b(null)},className:"flex items-center gap-1 text-carmine hover:text-carmine/80 p-2 w-full text-sm",children:[(0,r.jsx)(i.A,{size:14}),"Přidat podkategorii"]})]})]},e.id)})})]}),(0,r.jsxs)("div",{className:"w-full md:w-2/3 bg-white p-4 rounded-lg shadow-sm",children:[y&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>v(!1),className:"p-1 mr-2 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(d,{size:18})}),(0,r.jsx)("h2",{className:"font-semibold text-lg",children:"Nov\xe1 kategorie"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev kategorie"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:w.name,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Poč\xedtače, Notebooky, ..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (URL)"}),(0,r.jsx)("input",{type:"text",id:"slug",name:"slug",value:w.slug,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"napr-pocitace"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Popis kategorie"}),(0,r.jsx)("textarea",{id:"description",name:"description",value:w.description,onChange:S,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Stručn\xfd popis kategorie..."})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{t([...s,{id:"new-".concat(Date.now()),name:w.name,slug:w.slug,description:w.description,image:"/category-computers.jpg",subcategories:[],filterProperties:[]}]),C({name:"",slug:"",description:"",parentCategoryId:"",propertyName:"",propertyValues:""}),v(!1)},className:"bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",disabled:!w.name||!w.slug,children:"Uložit kategorii"})})]})]}),j&&g&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>f(!1),className:"p-1 mr-2 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(d,{size:18})}),(0,r.jsxs)("h2",{className:"font-semibold text-lg",children:["Nov\xe1 podkategorie v ",g.name]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev podkategorie"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:w.name,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Hern\xed notebooky, Ultrabooky, ..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (URL)"}),(0,r.jsx)("input",{type:"text",id:"slug",name:"slug",value:w.slug,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"napr-herni-notebooky"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{if(!g)return;let e={id:"new-sub-".concat(Date.now()),name:w.name,slug:w.slug,parentCategoryId:g.id,subcategories:[]},r=s.map(s=>s.id===g.id?{...s,subcategories:[...s.subcategories||[],e]}:s);t(r),C({name:"",slug:"",description:"",parentCategoryId:"",propertyName:"",propertyValues:""}),f(!1);let a=r.find(e=>e.id===g.id);a&&x(a)},className:"bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",disabled:!w.name||!w.slug,children:"Uložit podkategorii"})})]})]}),!y&&!j&&g&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-xl mb-4",children:g.name}),h?(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("button",{onClick:()=>b(null),className:"p-1 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(d,{size:18})}),(0,r.jsx)("h3",{className:"font-medium text-lg",children:h.name})]}),(0,r.jsxs)("p",{className:"mb-4 text-sm text-gray-600",children:["Slug: ",h.slug]}),(0,r.jsx)("h4",{className:"font-medium mt-6 mb-2",children:"Filtračn\xed vlastnosti podkategorie"}),h.filterProperties&&h.filterProperties.length>0?(0,r.jsx)("div",{className:"space-y-3 mb-4",children:h.filterProperties.map(e=>(0,r.jsxs)("div",{className:"p-3 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("h5",{className:"font-medium",children:e.name}),(0,r.jsx)("button",{onClick:()=>M(e.id,!0),className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:16})})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.values.map((e,s)=>(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 text-sm rounded",children:e},s))})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Ž\xe1dn\xe9 vlastnosti nejsou definov\xe1ny pro tuto podkategorii."}),!N&&(0,r.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 text-carmine hover:text-carmine/80",children:[(0,r.jsx)(i.A,{size:16}),"Přidat filtračn\xed vlastnost"]})]}):(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:g.description||"Bez popisu"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-6",children:["Slug: ",g.slug]}),(0,r.jsxs)("h4",{className:"font-medium mb-2",children:["Podkategorie (",(null===(e=g.subcategories)||void 0===e?void 0:e.length)||0,")"]}),g.subcategories&&g.subcategories.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-6",children:g.subcategories.map(e=>(0,r.jsx)("div",{className:"p-2 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",onClick:()=>z(e),children:e.name},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Ž\xe1dn\xe9 podkategorie"}),(0,r.jsx)("h4",{className:"font-medium mt-6 mb-2",children:"Společn\xe9 filtračn\xed vlastnosti kategorie"}),g.filterProperties&&g.filterProperties.length>0?(0,r.jsx)("div",{className:"space-y-3 mb-4",children:g.filterProperties.map(e=>(0,r.jsxs)("div",{className:"p-3 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("h5",{className:"font-medium",children:e.name}),(0,r.jsx)("button",{onClick:()=>M(e.id),className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:16})})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.values.map((e,s)=>(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 text-sm rounded",children:e},s))})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Ž\xe1dn\xe9 vlastnosti nejsou definov\xe1ny pro tuto kategorii."}),!N&&(0,r.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 text-carmine hover:text-carmine/80",children:[(0,r.jsx)(i.A,{size:16}),"Přidat filtračn\xed vlastnost"]})]}),N&&(0,r.jsxs)("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Nov\xe1 filtračn\xed vlastnost"}),(0,r.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(c.A,{size:16})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"propertyName",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev vlastnosti"}),(0,r.jsx)("input",{type:"text",id:"propertyName",name:"propertyName",value:w.propertyName,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Barva, Velikost, V\xfdrobce, ..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"propertyValues",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hodnoty (oddělen\xe9 č\xe1rkou)"}),(0,r.jsx)("input",{type:"text",id:"propertyValues",name:"propertyValues",value:w.propertyValues,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Červen\xe1, Modr\xe1, Zelen\xe1, ..."})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{let e;if(!g&&!h)return;let r={id:"new-prop-".concat(Date.now()),name:w.propertyName,values:w.propertyValues.split(",").map(e=>e.trim())};if(h)e=s.map(e=>e.id===(null==g?void 0:g.id)?{...e,subcategories:(e.subcategories||[]).map(e=>e.id===h.id?{...e,filterProperties:[...e.filterProperties||[],r]}:e)}:e);else{if(!g)return;e=s.map(e=>e.id===g.id?{...e,filterProperties:[...e.filterProperties||[],r]}:e)}if(t(e),C({...w,propertyName:"",propertyValues:""}),k(!1),g){let s=e.find(e=>e.id===g.id);if(s&&(x(s),h)){var a;let e=null===(a=s.subcategories)||void 0===a?void 0:a.find(e=>e.id===h.id);e&&b(e)}}},className:"bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",disabled:!w.propertyName||!w.propertyValues,children:"Přidat vlastnost"})})]})]})]}),!y&&!j&&!g&&!N&&(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Vyberte kategorii nebo vytvořte novou"})})]})]})]})})}},3072:(e,s,t)=>{Promise.resolve().then(t.bind(t,1804))},3473:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6967:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7401:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:m,...p}=e;return(0,r.createElement)("svg",{ref:s,...l,width:a,height:a,stroke:t,strokeWidth:o?24*Number(n)/Number(a):n,className:i("lucide",d),...p},[...m.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),o=(e,s)=>{let t=(0,r.forwardRef)((t,l)=>{let{className:o,...d}=t;return(0,r.createElement)(n,{ref:l,iconNode:s,className:i("lucide-".concat(a(e)),o),...d})});return t.displayName="".concat(e),t}},9993:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[441,587,358],()=>s(3072)),_N_E=e.O()}]);