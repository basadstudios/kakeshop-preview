(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{767:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1719:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},1804:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(2115),i=t(3473),l=t(1719),n=t(6967),o=t(9993);let d=(0,t(7401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=t(767);let m=[{id:"1",name:"Poč\xedtače",slug:"pocitace",description:"Stoln\xed poč\xedtače, komponenty a př\xedslušenstv\xed",image:"/category-computers.jpg",subcategories:[{id:"101",name:"Stoln\xed poč\xedtače",slug:"stolni-pocitace",parentCategoryId:"1",subcategories:[]},{id:"102",name:"Komponenty",slug:"komponenty",parentCategoryId:"1",subcategories:[]},{id:"103",name:"Př\xedslušenstv\xed",slug:"prislusenstvi-pc",parentCategoryId:"1",subcategories:[]}],filterProperties:[{id:"1001",name:"V\xfdrobce",values:["HP","Dell","Lenovo","Asus","MSI","Acer"]},{id:"1002",name:"Procesor",values:["Intel Core i3","Intel Core i5","Intel Core i7","AMD Ryzen 5","AMD Ryzen 7"]}]},{id:"2",name:"Notebooky",slug:"notebooky",description:"Přenosn\xe9 poč\xedtače pro pr\xe1ci i z\xe1bavu",image:"/category-notebooks.jpg",subcategories:[{id:"201",name:"Hern\xed notebooky",slug:"herni-notebooky",parentCategoryId:"2",subcategories:[]},{id:"202",name:"Kancel\xe1řsk\xe9 notebooky",slug:"kancelarske-notebooky",parentCategoryId:"2",subcategories:[]},{id:"203",name:"Ultrabook",slug:"ultrabook",parentCategoryId:"2",subcategories:[]}],filterProperties:[{id:"2001",name:"Velikost displeje",values:['13"','14"','15.6"','17"']},{id:"2002",name:"V\xfdrobce",values:["HP","Dell","Lenovo","Asus","MSI","Acer","Apple"]}]},{id:"3",name:"Mobily",slug:"mobily",description:"Mobiln\xed telefony a př\xedslušenstv\xed",image:"/category-phones.jpg",subcategories:[{id:"301",name:"Chytr\xe9 telefony",slug:"chytre-telefony",parentCategoryId:"3",subcategories:[]},{id:"302",name:"Př\xedslušenstv\xed k telefonům",slug:"prislusenstvi-k-telefonum",parentCategoryId:"3",subcategories:[]}],filterProperties:[{id:"3001",name:"V\xfdrobce",values:["Apple","Samsung","Xiaomi","Huawei","Google","OnePlus"]},{id:"3002",name:"Paměť",values:["64GB","128GB","256GB","512GB"]}]}];function p(){let[e,s]=(0,a.useState)(m),[t,p]=(0,a.useState)({}),[u,g]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[f,N]=(0,a.useState)(!1),[k,w]=(0,a.useState)({name:"",slug:"",description:"",parentCategoryId:"",propertyName:"",propertyValues:""}),C=e=>{p(s=>({...s,[e]:!s[e]}))},P=e=>{g(e),h(null)},A=e=>{h(e)},z=e=>{let{name:s,value:t}=e.target;if(w(e=>({...e,[s]:t})),"name"===s){let e=t.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-");w(s=>({...s,slug:e}))}},S=t=>{confirm("Opravdu chcete smazat tuto kategorii? Budou smaz\xe1ny i všechny jej\xed podkategorie.")&&(s(e.filter(e=>e.id!==t)),(null==u?void 0:u.id)===t&&(g(null),h(null)))},V=(t,r)=>{if(confirm("Opravdu chcete smazat tuto podkategorii?")){let a=e.map(e=>e.id===t?{...e,subcategories:e.subcategories.filter(e=>e.id!==r)}:e);s(a),(null==x?void 0:x.id)===r&&h(null);let i=a.find(e=>e.id===t);i&&(null==u?void 0:u.id)===t&&g(i)}},I=function(t){let r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!u)return;s(r=a&&x?e.map(e=>e.id===u.id?{...e,subcategories:e.subcategories.map(e=>e.id===x.id?{...e,filterProperties:(e.filterProperties||[]).filter(e=>e.id!==t)}:e)}:e):e.map(e=>e.id===u.id?{...e,filterProperties:(e.filterProperties||[]).filter(e=>e.id!==t)}:e));let i=r.find(e=>e.id===u.id);if(i&&(g(i),x)){let e=i.subcategories.find(e=>e.id===x.id);e&&h(e)}};return(0,r.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,r.jsxs)("div",{className:"container px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Spr\xe1va kategori\xed a filtrů"}),(0,r.jsxs)("button",{onClick:()=>{y(!0),g(null),h(null)},className:"flex items-center gap-2 bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",children:[(0,r.jsx)(i.A,{size:18}),"Přidat kategorii"]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/3 bg-white p-4 rounded-lg shadow-sm",children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Kategorie a podkategorie"}),(0,r.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 cursor-pointer ".concat((null==u?void 0:u.id)===e.id?"bg-carmine/10 border-l-4 border-carmine":"hover:bg-gray-50"),onClick:()=>P(e),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),C(e.id)},className:"p-1",children:t[e.id]?(0,r.jsx)(l.A,{size:16}):(0,r.jsx)(n.A,{size:16})}),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),S(e.id)},className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:16})})})]}),t[e.id]&&(0,r.jsxs)("div",{className:"pl-8 pb-2 border-t border-gray-100",children:[e.subcategories.map(s=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer ".concat((null==x?void 0:x.id)===s.id?"bg-carmine/10":"hover:bg-gray-50"),onClick:()=>{P(e),A(s)},children:[(0,r.jsx)("span",{className:"text-sm",children:s.name}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),V(e.id,s.id)},className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:14})})]},s.id)),(0,r.jsxs)("button",{onClick:()=>{j(!0),P(e),h(null)},className:"flex items-center gap-1 text-carmine hover:text-carmine/80 p-2 w-full text-sm",children:[(0,r.jsx)(i.A,{size:14}),"Přidat podkategorii"]})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"w-full md:w-2/3 bg-white p-4 rounded-lg shadow-sm",children:[b&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>y(!1),className:"p-1 mr-2 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(d,{size:18})}),(0,r.jsx)("h2",{className:"font-semibold text-lg",children:"Nov\xe1 kategorie"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev kategorie"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:k.name,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Poč\xedtače, Notebooky, ..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (URL)"}),(0,r.jsx)("input",{type:"text",id:"slug",name:"slug",value:k.slug,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"napr-pocitace"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Popis kategorie"}),(0,r.jsx)("textarea",{id:"description",name:"description",value:k.description,onChange:z,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Stručn\xfd popis kategorie..."})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{s([...e,{id:"new-".concat(Date.now()),name:k.name,slug:k.slug,description:k.description,image:"/category-computers.jpg",subcategories:[],filterProperties:[]}]),w({name:"",slug:"",description:"",parentCategoryId:"",propertyName:"",propertyValues:""}),y(!1)},className:"bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",disabled:!k.name||!k.slug,children:"Uložit kategorii"})})]})]}),v&&u&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>j(!1),className:"p-1 mr-2 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(d,{size:18})}),(0,r.jsxs)("h2",{className:"font-semibold text-lg",children:["Nov\xe1 podkategorie v ",u.name]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev podkategorie"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:k.name,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Hern\xed notebooky, Ultrabooky, ..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (URL)"}),(0,r.jsx)("input",{type:"text",id:"slug",name:"slug",value:k.slug,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"napr-herni-notebooky"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{if(!u)return;let t={id:"new-sub-".concat(Date.now()),name:k.name,slug:k.slug,parentCategoryId:u.id,subcategories:[]},r=e.map(e=>e.id===u.id?{...e,subcategories:[...e.subcategories,t]}:e);s(r),w({name:"",slug:"",description:"",parentCategoryId:"",propertyName:"",propertyValues:""}),j(!1);let a=r.find(e=>e.id===u.id);a&&g(a)},className:"bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",disabled:!k.name||!k.slug,children:"Uložit podkategorii"})})]})]}),!b&&!v&&u&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-xl mb-4",children:u.name}),x?(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("button",{onClick:()=>h(null),className:"p-1 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(d,{size:18})}),(0,r.jsx)("h3",{className:"font-medium text-lg",children:x.name})]}),(0,r.jsxs)("p",{className:"mb-4 text-sm text-gray-600",children:["Slug: ",x.slug]}),(0,r.jsx)("h4",{className:"font-medium mt-6 mb-2",children:"Filtračn\xed vlastnosti podkategorie"}),x.filterProperties&&x.filterProperties.length>0?(0,r.jsx)("div",{className:"space-y-3 mb-4",children:x.filterProperties.map(e=>(0,r.jsxs)("div",{className:"p-3 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("h5",{className:"font-medium",children:e.name}),(0,r.jsx)("button",{onClick:()=>I(e.id,!0),className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:16})})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.values.map((e,s)=>(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 text-sm rounded",children:e},s))})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Ž\xe1dn\xe9 vlastnosti nejsou definov\xe1ny pro tuto podkategorii."}),!f&&(0,r.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center gap-2 text-carmine hover:text-carmine/80",children:[(0,r.jsx)(i.A,{size:16}),"Přidat filtračn\xed vlastnost"]})]}):(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:u.description||"Bez popisu"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-6",children:["Slug: ",u.slug]}),(0,r.jsxs)("h4",{className:"font-medium mb-2",children:["Podkategorie (",u.subcategories.length,")"]}),u.subcategories.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-6",children:u.subcategories.map(e=>(0,r.jsx)("div",{className:"p-2 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",onClick:()=>A(e),children:e.name},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Ž\xe1dn\xe9 podkategorie"}),(0,r.jsx)("h4",{className:"font-medium mt-6 mb-2",children:"Společn\xe9 filtračn\xed vlastnosti kategorie"}),u.filterProperties&&u.filterProperties.length>0?(0,r.jsx)("div",{className:"space-y-3 mb-4",children:u.filterProperties.map(e=>(0,r.jsxs)("div",{className:"p-3 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("h5",{className:"font-medium",children:e.name}),(0,r.jsx)("button",{onClick:()=>I(e.id),className:"p-1 text-red-500 hover:text-red-700",children:(0,r.jsx)(o.A,{size:16})})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.values.map((e,s)=>(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 text-sm rounded",children:e},s))})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Ž\xe1dn\xe9 vlastnosti nejsou definov\xe1ny pro tuto kategorii."}),!f&&(0,r.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center gap-2 text-carmine hover:text-carmine/80",children:[(0,r.jsx)(i.A,{size:16}),"Přidat filtračn\xed vlastnost"]})]}),f&&(0,r.jsxs)("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Nov\xe1 filtračn\xed vlastnost"}),(0,r.jsx)("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(c.A,{size:16})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"propertyName",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xe1zev vlastnosti"}),(0,r.jsx)("input",{type:"text",id:"propertyName",name:"propertyName",value:k.propertyName,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Barva, Velikost, V\xfdrobce, ..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"propertyValues",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hodnoty (oddělen\xe9 č\xe1rkou)"}),(0,r.jsx)("input",{type:"text",id:"propertyValues",name:"propertyValues",value:k.propertyValues,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Např. Červen\xe1, Modr\xe1, Zelen\xe1, ..."})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{let t;if(!u&&!x)return;let r={id:"new-prop-".concat(Date.now()),name:k.propertyName,values:k.propertyValues.split(",").map(e=>e.trim())};if(x)t=e.map(e=>e.id===(null==u?void 0:u.id)?{...e,subcategories:e.subcategories.map(e=>e.id===x.id?{...e,filterProperties:[...e.filterProperties||[],r]}:e)}:e);else{if(!u)return;t=e.map(e=>e.id===u.id?{...e,filterProperties:[...e.filterProperties||[],r]}:e)}if(s(t),w({...k,propertyName:"",propertyValues:""}),N(!1),u){let e=t.find(e=>e.id===u.id);if(e&&(g(e),x)){let s=e.subcategories.find(e=>e.id===x.id);s&&h(s)}}},className:"bg-carmine text-white px-4 py-2 rounded-lg hover:bg-carmine/80",disabled:!k.propertyName||!k.propertyValues,children:"Přidat vlastnost"})})]})]})]}),!b&&!v&&!u&&!f&&(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Vyberte kategorii nebo vytvořte novou"})})]})]})]})})}},3072:(e,s,t)=>{Promise.resolve().then(t.bind(t,1804))},3473:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6967:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7401:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:m,...p}=e;return(0,r.createElement)("svg",{ref:s,...l,width:a,height:a,stroke:t,strokeWidth:o?24*Number(n)/Number(a):n,className:i("lucide",d),...p},[...m.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),o=(e,s)=>{let t=(0,r.forwardRef)((t,l)=>{let{className:o,...d}=t;return(0,r.createElement)(n,{ref:l,iconNode:s,className:i("lucide-".concat(a(e)),o),...d})});return t.displayName="".concat(e),t}},9993:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[441,587,358],()=>s(3072)),_N_E=e.O()}]);