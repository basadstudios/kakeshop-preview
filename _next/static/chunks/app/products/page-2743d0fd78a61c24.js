(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1684:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,cn:()=>a});var s=r(3463);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.$)(t)}function i(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e)}},3720:(e,t,r)=>{"use strict";r.d(t,{default:()=>ej});var s=r(5155),a=r(2115),i=r(8173),n=r.n(i),o=r(6046),l=r(6967),c=r(196),d=r(5440),m=r(8701),u=r(767),x=r(853),p=r(3883),g=r(5565),h=r(3518),f=r(8474),v=r(3478);function b(e){let{collection:t,products:r,onAddToCart:i}=e,[o,c]=(0,a.useState)(0),d=(0,a.useRef)(null),m=r.filter(e=>t.products.includes(e.id));return(0,s.jsxs)("div",{className:"relative bg-transparent p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),t.description&&(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:t.description})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{o>0&&c(e=>e-1)},className:"p-2 rounded-full bg-white shadow-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:0===o,children:(0,s.jsx)(h.A,{size:24,className:"text-gray-600"})}),(0,s.jsx)("button",{onClick:()=>{(o+1)*3<m.length&&c(e=>e+1)},className:"p-2 rounded-full bg-white shadow-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:(o+1)*3>=m.length,children:(0,s.jsx)(l.A,{size:24,className:"text-gray-600"})})]})]}),(0,s.jsx)("div",{className:"max-w-[1200px] mx-auto relative overflow-hidden",ref:d,children:(0,s.jsx)(v.P.div,{className:"flex gap-6",animate:{x:"-".concat(404*o,"px")},transition:{duration:.5,ease:[.32,.72,0,1]},children:m.map(e=>(0,s.jsxs)("div",{className:"w-[380px] flex-none bg-white rounded-lg shadow-sm overflow-hidden group hover:shadow-md transition-shadow duration-300",children:[(0,s.jsxs)("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[(0,s.jsx)(g.default,{src:e.images[0],alt:e.name,width:380,height:192,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.discountPrice&&(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-carmine text-white text-xs font-semibold px-2 py-1 rounded",children:["-",Math.round((e.price-e.discountPrice)/e.price*100),"%"]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-gray-900 mt-1 hover:text-carmine transition-colors",children:(0,s.jsx)(n(),{href:"/products/".concat(e.id),className:"block",children:e.name})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("div",{className:"flex items-center",children:[,,,,,].fill(0).map((t,r)=>(0,s.jsx)("svg",{className:"h-4 w-4 ".concat(r<Math.floor(Number(e.rating))?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.reviewCount,")"]})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-carmine",children:[e.discountPrice?e.discountPrice.toLocaleString("cs-CZ"):e.price.toLocaleString("cs-CZ")," Kč"]}),e.discountPrice&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:[e.price.toLocaleString("cs-CZ")," Kč"]})]}),(0,s.jsx)("p",{className:"text-sm ".concat(e.stock>0?"text-green-600":"text-red-600"),children:e.stock>0?"Skladem":"Nen\xed skladem"})]})]}),(0,s.jsx)("div",{className:"flex gap-2 mt-4",children:(0,s.jsxs)("button",{onClick:()=>i(e),className:"flex-1 py-2 bg-carmine hover:bg-carmine/90 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(f.A,{size:18}),(0,s.jsx)("span",{children:"Přidat do koš\xedku"})]})})]})]},e.id))})})]})}var j=r(1569),y=r(591),N=r(6889);let w=(0,a.memo)(e=>{let{products:t,onAddToCart:r,onCompareProduct:a,viewMode:i="grid"}=e;return(0,s.jsx)("div",{className:"grid"===i?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"flex flex-col gap-4",children:t.map(e=>"grid"===i?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden group hover:shadow-md transition-shadow duration-300",children:[(0,s.jsxs)("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[(0,s.jsx)(g.default,{src:e.images[0]||"/placeholder.jpg",alt:e.name,width:380,height:192,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.discountPrice&&(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-carmine text-white text-xs font-semibold px-2 py-1 rounded",children:["-",Math.round((e.price-e.discountPrice)/e.price*100),"%"]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-gray-900 mt-1 hover:text-carmine transition-colors",children:(0,s.jsx)(n(),{href:"/products/".concat(e.id),className:"block",children:e.name})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("div",{className:"flex",children:[,,,,,].fill(0).map((t,r)=>(0,s.jsx)("svg",{className:"h-4 w-4 ".concat(r<Math.floor(Number(e.rating))?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.reviewCount,")"]})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-carmine",children:[e.discountPrice?e.discountPrice.toLocaleString("cs-CZ"):e.price.toLocaleString("cs-CZ")," Kč"]}),e.discountPrice&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:[e.price.toLocaleString("cs-CZ")," Kč"]})]}),(0,s.jsx)("p",{className:"text-sm ".concat(e.stock>0?"text-green-600":"text-red-600"),children:e.stock>0?"Skladem":"Nen\xed skladem"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsx)("button",{onClick:()=>a(e),className:"p-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors","aria-label":"Porovnat produkt",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("path",{d:"M16 3h5v5M21 3l-7 7M8 21H3v-5M3 21l7-7M21 16v5h-5M21 21l-7-7M3 8V3h5M3 3l7 7"})})}),(0,s.jsxs)("button",{onClick:()=>r(e),className:"flex-1 py-2 bg-carmine hover:bg-carmine/90 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(f.A,{size:18}),(0,s.jsx)("span",{children:"Přidat do koš\xedku"})]})]})]})]},e.id):(0,s.jsxs)("div",{className:"bg-dark-navy rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 flex h-[200px] border border-dark-navy/50",children:[(0,s.jsx)("div",{className:"relative h-full w-[200px] bg-dark-navy/30 overflow-hidden flex-shrink-0",children:(0,s.jsx)(n(),{href:"/products/".concat(e.id),className:"block h-full",children:(0,s.jsx)(g.default,{src:e.images[0]||"/placeholder.jpg",alt:e.name,width:200,height:200,className:"w-full h-full object-cover"})})}),(0,s.jsxs)("div",{className:"flex-1 py-5 px-5 flex flex-col justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h3",{className:"font-semibold text-xl text-white line-clamp-1",children:(0,s.jsx)(n(),{href:"/products/".concat(e.id),className:"block hover:text-carmine transition-colors",children:e.name})}),(0,s.jsxs)("p",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:["Popis produktu ",e.id]}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("div",{className:"flex",children:[,,,,,].fill(0).map((t,r)=>(0,s.jsx)("svg",{className:"h-4 w-4 ".concat(r<Math.floor(Number(e.rating))?"text-yellow-400":"text-gray-500"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),(0,s.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",e.reviewCount,")"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-5 mt-3",children:[e.properties&&Object.entries(e.properties).slice(0,2).map(e=>{let[t,r]=e;return(0,s.jsxs)("div",{className:"flex items-center text-gray-400 text-sm",children:[(0,s.jsxs)("span",{className:"mr-2",children:[t,":"]}),(0,s.jsx)("span",{className:"text-white",children:r.toString()})]},t)}),(0,s.jsxs)("div",{className:"flex items-center text-gray-400 text-sm",children:[(0,s.jsx)("span",{className:"mr-2",children:"SKU:"}),(0,s.jsxs)("span",{className:"text-white",children:["SKU-",e.id.toString().padStart(4,"0")]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-auto",children:[(0,s.jsx)("button",{onClick:()=>a(e),className:"p-2 text-gray-400 hover:text-white transition-colors","aria-label":"Porovnat produkt",children:(0,s.jsx)(j.A,{size:20})}),(0,s.jsx)("button",{className:"p-2 text-gray-400 hover:text-white transition-colors","aria-label":"Přidat do obl\xedben\xfdch",children:(0,s.jsx)(y.A,{size:20})})]})]}),(0,s.jsxs)("div",{className:"w-[220px] p-5 flex flex-col justify-between items-end flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-carmine",children:[e.discountPrice?e.discountPrice.toLocaleString("cs-CZ"):e.price.toLocaleString("cs-CZ")," Kč"]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Včetně DPH"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,s.jsxs)("p",{className:"text-base ".concat(e.stock>0?"text-green-500":"text-red-500"),children:["Skladem (",e.stock," ks)"]}),(0,s.jsxs)("p",{className:"flex items-center text-sm text-gray-400",children:[(0,s.jsx)(N.A,{size:14,className:"mr-1.5"}),"Expedice: Ihned"]}),(0,s.jsxs)("button",{onClick:()=>r(e),className:"py-2.5 px-5 bg-carmine hover:bg-carmine/90 text-white rounded-lg font-medium transition-colors flex items-center gap-2 w-full justify-center",children:[(0,s.jsx)(f.A,{size:18}),(0,s.jsx)("span",{children:"Do koš\xedku"})]})]})]})]},e.id))})});w.displayName="FilteredProducts";var k=r(1027),A=r(1684);let P=(0,k.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-100/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,A.cn)(P({variant:r}),t),...a})}var M=r(2317);let S=(0,k.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-carmine text-white shadow hover:bg-carmine/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),z=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:n=!1,...o}=e,l=n?M.DX:"button";return(0,s.jsx)(l,{className:(0,A.cn)(S({variant:a,size:i,className:r})),ref:t,...o})});z.displayName="Button";var R=r(5683),D=r(8485),B=r(9257),I=r(1825),G=r(3140),T=r(7072),F=r(1748),L=r(8384),V=r(6954),H=r(6452),Z=r(2895),K=r(8178),X=r(5220),E=r(2118),O=r(6507),U=r(5996),_=r(2152),W=r(4839),Q=r(5603),$=r(4081),q=r(2957),Y=r(2792),J=r(9597),ee=r(5007),et=r(5843),er=r(232),es=r(2631),ea=r(4641),ei=r(5686),en=r(1719),eo=r(2252);let el=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(eo.bL,{ref:t,className:(0,A.cn)("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,s.jsx)(eo.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-gray-200",children:(0,s.jsx)(eo.Q6,{className:"absolute h-full bg-carmine"})}),(0,s.jsx)(eo.zi,{className:"block h-4 w-4 rounded-full border border-carmine bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-carmine focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),(0,s.jsx)(eo.zi,{className:"block h-4 w-4 rounded-full border border-carmine bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-carmine focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});el.displayName=eo.bL.displayName;let ec=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,A.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});ec.displayName="Input";let ed=(0,a.memo)(e=>{let{value:t,onChange:r,onCommit:a}=e;return(0,s.jsxs)("div",{className:"mt-4 px-2",children:[(0,s.jsx)(el,{value:t,min:0,max:1e5,step:1e3,onValueChange:e=>{r([e[0],e[1]])},onValueCommit:e=>{a([e[0],e[1]])},className:"mb-6"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(ec,{type:"number",value:t[0],onChange:e=>{let s=[Math.max(0,Math.min(t[1],parseInt(e.target.value)||0)),t[1]];r(s),a(s)},className:"w-24 text-sm",min:0,max:t[1]}),(0,s.jsx)("span",{className:"text-gray-500",children:"-"}),(0,s.jsx)(ec,{type:"number",value:t[1],onChange:e=>{let s=Math.max(t[0],Math.min(1e5,parseInt(e.target.value)||0)),i=[t[0],s];r(i),a(i)},className:"w-24 text-sm",min:t[0],max:1e5})]})]})});ed.displayName="PriceRangeSlider";let em={Monitor:D.A,Cpu:B.A,Laptop:I.A,Gamepad:G.A,Zap:T.A,MousePointer:F.A,Keyboard:L.A,Smartphone:V.A,Radio:H.A,Tv:Z.A,Headphones:K.A,Volume2:X.A,Power:E.A,Home:O.A,Heart:y.A,Wifi:U.A,Watch:_.A,Briefcase:W.A,Printer:Q.A,FileText:$.A,Flower2:q.A,Wrench:Y.A,CircuitBoard:J.A,Apple:ee.A,Smile:et.A,Wind:er.A,Snowflake:es.A,Coffee:ea.A,Trash2:ei.A},eu=(0,a.memo)(e=>{var t;let{category:r,level:a=0,selectedCategories:i,onSelect:n,expandedFilters:o,onToggleFilter:c,categories:d,filteredProducts:m}=e,u=i.includes(r.id),x=o["category-".concat(r.id)],p=(null===(t=r.subcategories)||void 0===t?void 0:t.length)>0,g=r.icon?em[r.icon]:null,h=(e=>{let t=e=>{let r=[e.id];return e.subcategories&&e.subcategories.forEach(e=>{r.push(...t(e))}),r},s=t(r);return m.filter(e=>s.includes(e.categoryId)).length})(r.id),f=(e,t)=>{for(let r of e){if(r.id===t)return r;if(r.subcategories){let e=f(r.subcategories,t);if(e)return e}}return null},v=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let s of e){if(s.id===t)return[...r,s.id];if(s.subcategories){let e=v(s.subcategories,t,[...r,s.id]);if(e)return e}}return null},b=()=>{if(0===a)return!0;if(0===i.length)return 0===a;let e=i[i.length-1];if(!f(d,e))return!1;if(u)return!0;if(!v(d,e))return!1;let t=v(d,r.id);return!!t&&t.slice(0,-1).includes(e)},j=!b()&&!u,y=p&&u&&x;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"\n          flex items-center py-1.5 px-2 rounded-lg cursor-pointer transition-colors\n          ".concat(u?"bg-carmine/10 text-carmine font-medium":j?"opacity-50 cursor-not-allowed":"hover:bg-gray-100","\n          ").concat(0===a?"border-l-2 border-l-transparent":"","\n          ").concat(u&&0===a?"!border-l-carmine":"","\n        "),style:{paddingLeft:"".concat(12*a+8,"px")},children:[p&&u&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),c("category-".concat(r.id))},className:"p-1 mr-1 text-gray-500",children:x?(0,s.jsx)(en.A,{size:14}):(0,s.jsx)(l.A,{size:14})}),(!p||!u)&&(0,s.jsx)("div",{className:"w-[30px]"}),(0,s.jsxs)("div",{className:"flex items-center flex-1 justify-between",onClick:()=>{if(b()){if(u){let e=[r.id],t=r=>{var s;null===(s=r.subcategories)||void 0===s||s.forEach(r=>{e.push(r.id),t(r)})};t(r),e.forEach(e=>{i.includes(e)&&n(e,"remove")})}else i.forEach(e=>{n(e,"remove")}),(v(d,r.id)||[]).forEach(e=>{n(e,"add")});!x&&p&&c("category-".concat(r.id))}},children:[(0,s.jsxs)("div",{className:"flex items-center",children:[g&&(0,s.jsx)(g,{size:16,className:"mr-2 ".concat(u?"text-carmine":"text-gray-500")}),(0,s.jsx)("span",{className:"text-sm ".concat(0===a?"font-medium":""),children:r.name})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",h,")"]})]})]}),y&&(0,s.jsx)("div",{className:"".concat(0===a?"border-l border-gray-200 ml-4 pl-1":""),children:(r.subcategories||[]).map(e=>(0,s.jsx)(eu,{category:e,level:a+1,selectedCategories:i,onSelect:n,expandedFilters:o,onToggleFilter:c,categories:d,filteredProducts:m},e.id))})]})});eu.displayName="CategoryItem";let ex=(0,a.memo)(e=>{let{title:t,isExpanded:r,onToggle:a,children:i}=e;return(0,s.jsxs)(v.P.div,{className:"border-b border-gray-200 pb-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between cursor-pointer py-2",onClick:a,children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:t}),(0,s.jsx)(v.P.div,{animate:{rotate:180*!!r},transition:{duration:.2},children:(0,s.jsx)(en.A,{size:16,className:"text-gray-500"})})]}),(0,s.jsx)(R.N,{children:r&&(0,s.jsx)(v.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:i})})]})});ex.displayName="FilterSection";let ep=(0,a.memo)(e=>{let{categories:t,filterState:r,expandedFilters:a,priceRangeValue:i,onFilterStateUpdate:n,onToggleFilter:o,onPriceRangeChange:l,onPriceRangeCommit:c,filteredProducts:d}=e;return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm sticky top-24",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Filtry"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(ex,{title:"Kategorie",isExpanded:a.categories,onToggle:()=>o("categories"),children:(0,s.jsx)("div",{className:"space-y-0.5 mt-2",children:t.map(e=>(0,s.jsx)(eu,{category:e,selectedCategories:r.categories,onSelect:(e,t)=>n("category",e,t),expandedFilters:a,onToggleFilter:o,categories:t,filteredProducts:d},e.id))})}),(0,s.jsx)(ex,{title:"Cena",isExpanded:a.price,onToggle:()=>o("price"),children:(0,s.jsx)("div",{className:"mt-4 px-2",children:(0,s.jsx)(ed,{value:i,onChange:l,onCommit:c})})}),r.categories.length>0&&t.map(e=>{let t=e=>r.categories.includes(e.id)?e.filterProperties||[]:(e.subcategories||[]).flatMap(t);return t(e)}).flat().filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id)).map(e=>(0,s.jsx)(ex,{title:e.name,isExpanded:a["property-".concat(e.id)],onToggle:()=>o("property-".concat(e.id)),children:(0,s.jsx)("div",{className:"space-y-2 mt-2",children:e.values.map((t,a)=>{var i;return(0,s.jsx)("div",{className:"\n                      flex items-center py-1.5 px-2 rounded-lg cursor-pointer transition-colors\n                      ".concat((null===(i=r.properties[e.name])||void 0===i?void 0:i.includes(t))?"bg-carmine/10 text-carmine":"hover:bg-gray-100","\n                    "),onClick:()=>{var s;n("property",[e.name,t],(null===(s=r.properties[e.name])||void 0===s?void 0:s.includes(t))?"remove":"add")},children:(0,s.jsx)("span",{className:"text-sm",children:t})},a)})})},e.id))]})]})});ep.displayName="FilterMenu";var eg=r(4004);D.A,B.A,I.A,G.A,T.A,F.A,eg.A,L.A,V.A,H.A,Z.A,K.A,X.A,E.A,O.A,y.A,U.A,_.A,W.A,Q.A,$.A,q.A,Y.A,J.A,ee.A,et.A,er.A,es.A,ea.A,ei.A;let eh=[{id:"cat-1",name:"Poč\xedtače",icon:"laptop",slug:"pocitace",subcategories:[{id:"subcat-1",name:"Notebooky",icon:"laptop",slug:"notebooky",subcategories:[],filterProperties:[{id:"display-size",name:"Velikost displeje",values:['13"','14"','15.6"','17"']},{id:"processor",name:"Procesor",values:["Intel Core i3","Intel Core i5","Intel Core i7","AMD Ryzen 5","AMD Ryzen 7"]},{id:"ram",name:"Operačn\xed paměť",values:["4GB","8GB","16GB","32GB"]},{id:"storage",name:"\xdaložiště",values:["128GB SSD","256GB SSD","512GB SSD","1TB SSD"]}]},{id:"subcat-2",name:"Stoln\xed poč\xedtače",icon:"monitor",slug:"stolni-pocitace",subcategories:[],filterProperties:[{id:"processor-desktop",name:"Procesor",values:["Intel Core i3","Intel Core i5","Intel Core i7","AMD Ryzen 5","AMD Ryzen 7"]},{id:"ram-desktop",name:"Operačn\xed paměť",values:["4GB","8GB","16GB","32GB"]},{id:"storage-desktop",name:"\xdaložiště",values:["128GB SSD","256GB SSD","512GB SSD","1TB SSD"]},{id:"graphics-desktop",name:"Grafick\xe1 karta",values:["Integrovan\xe1","NVIDIA GeForce GTX","NVIDIA GeForce RTX","AMD Radeon"]}]},{id:"subcat-3",name:"Hern\xed poč\xedtače",icon:"gamepad",slug:"herni-pocitace",subcategories:[],filterProperties:[{id:"processor-gaming",name:"Procesor",values:["Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9"]},{id:"ram-gaming",name:"Operačn\xed paměť",values:["8GB","16GB","32GB","64GB"]},{id:"storage-gaming",name:"\xdaložiště",values:["512GB SSD","1TB SSD","2TB SSD"]},{id:"graphics-gaming",name:"Grafick\xe1 karta",values:["NVIDIA GeForce GTX 1660","NVIDIA GeForce RTX 3060","NVIDIA GeForce RTX 3070","NVIDIA GeForce RTX 3080","AMD Radeon RX 6700","AMD Radeon RX 6800"]}]}]},{id:"cat-2",name:"PC doplňky",icon:"mouse",slug:"pc-doplnky",subcategories:[{id:"subcat-4",name:"Kl\xe1vesnice",icon:"keyboard",slug:"klavesnice",subcategories:[],filterProperties:[{id:"keyboard-type",name:"Typ",values:["Membr\xe1nov\xe1","Mechanick\xe1","Bezdr\xe1tov\xe1"]},{id:"keyboard-layout",name:"Rozložen\xed",values:["CZ","US","UK"]},{id:"keyboard-backlight",name:"Podsv\xedcen\xed",values:["Ano","Ne"]}]},{id:"subcat-5",name:"Myši",icon:"mouse",slug:"mysi",subcategories:[],filterProperties:[{id:"mouse-connection",name:"Typ připojen\xed",values:["Dr\xe1tov\xe1","Bezdr\xe1tov\xe1"]},{id:"mouse-dpi",name:"DPI",values:["Do 2000","2000-4000","4000-8000","Nad 8000"]},{id:"mouse-purpose",name:"Určen\xed",values:["Kancel\xe1řsk\xe1","Hern\xed","Profesion\xe1ln\xed"]}]},{id:"subcat-6",name:"Monitory",icon:"monitor",slug:"monitory",subcategories:[],filterProperties:[{id:"monitor-size",name:"Velikost",values:['Do 24"','24"-27"','27"-32"','Nad 32"']},{id:"monitor-resolution",name:"Rozlišen\xed",values:["Full HD","WQHD","4K"]},{id:"monitor-refresh",name:"Obnovovac\xed frekvence",values:["60 Hz","75 Hz","144 Hz","240 Hz"]}]},{id:"subcat-7",name:"Sluch\xe1tka",icon:"headphones",slug:"sluchatka",subcategories:[],filterProperties:[{id:"headphones-connection",name:"Typ připojen\xed",values:["Dr\xe1tov\xe1","Bezdr\xe1tov\xe1"]},{id:"headphones-type",name:"Proveden\xed",values:["Uzavřen\xe1","Otevřen\xe1","Špunty"]},{id:"headphones-mic",name:"Mikrofon",values:["Ano","Ne"]}]}]},{id:"cat-3",name:"Komponenty",icon:"circuit",slug:"komponenty",subcategories:[{id:"subcat-8",name:"Procesory",icon:"cpu",slug:"procesory",subcategories:[],filterProperties:[{id:"cpu-manufacturer",name:"V\xfdrobce",values:["Intel","AMD"]},{id:"cpu-series",name:"Řada",values:["Core i3","Core i5","Core i7","Core i9","Ryzen 3","Ryzen 5","Ryzen 7","Ryzen 9"]},{id:"cpu-cores",name:"Počet jader",values:["2","4","6","8","10","12","16"]}]},{id:"subcat-9",name:"Grafick\xe9 karty",icon:"zap",slug:"graficke-karty",subcategories:[],filterProperties:[{id:"gpu-manufacturer",name:"V\xfdrobce",values:["NVIDIA","AMD"]},{id:"gpu-series",name:"Řada",values:["GeForce GTX 16xx","GeForce RTX 20xx","GeForce RTX 30xx","GeForce RTX 40xx","Radeon RX 5xxx","Radeon RX 6xxx","Radeon RX 7xxx"]},{id:"gpu-memory",name:"Paměť",values:["4GB","6GB","8GB","10GB","12GB","16GB","24GB"]}]},{id:"subcat-10",name:"Z\xe1kladn\xed desky",icon:"circuit",slug:"zakladni-desky",subcategories:[],filterProperties:[{id:"mb-socket",name:"Socket",values:["Intel LGA 1200","Intel LGA 1700","AMD AM4","AMD AM5"]},{id:"mb-format",name:"Form\xe1t",values:["ATX","Micro-ATX","Mini-ITX"]},{id:"mb-chipset",name:"Chipset",values:["Intel B560","Intel Z590","Intel B660","Intel Z690","AMD B550","AMD X570","AMD B650","AMD X670"]}]},{id:"subcat-11",name:"RAM paměti",icon:"zap",slug:"ram-pameti",subcategories:[],filterProperties:[{id:"ram-type",name:"Typ",values:["DDR4","DDR5"]},{id:"ram-capacity",name:"Kapacita",values:["4GB","8GB","16GB","32GB","64GB"]},{id:"ram-frequency",name:"Frekvence",values:["2666 MHz","3000 MHz","3200 MHz","3600 MHz","4000 MHz","4800 MHz","5200 MHz","6000 MHz"]}]},{id:"subcat-12",name:"\xdaložiště",icon:"file",slug:"uloziste",subcategories:[],filterProperties:[{id:"storage-type",name:"Typ",values:["HDD","SSD","M.2 SSD"]},{id:"storage-capacity",name:"Kapacita",values:["128GB","256GB","512GB","1TB","2TB","4TB","8TB"]},{id:"storage-interface",name:"Rozhran\xed",values:["SATA","PCIe 3.0","PCIe 4.0","PCIe 5.0"]}]}]}],ef=Array.from({length:100},(e,t)=>{let r=Math.floor(Math.random()*eh.length),s=eh[r],a=Math.floor(Math.random()*s.subcategories.length),i=s.subcategories[a],n=Math.floor(99e3*Math.random())+1e3,o=.3>Math.random()?Math.floor(.8*n):void 0,l=Math.floor(50*Math.random())+1,c=(Math.floor(40*Math.random())+10)/10,d={};return i.filterProperties&&i.filterProperties.forEach(e=>{let t=Math.floor(Math.random()*e.values.length);d[e.name]=e.values[t]}),d.Barva=["Čern\xe1","B\xedl\xe1","Stř\xedbrn\xe1","Modr\xe1","Červen\xe1"][Math.floor(5*Math.random())],d["Z\xe1ruka"]=["24 měs\xedců","36 měs\xedců"][Math.floor(2*Math.random())],{id:"prod-".concat(t+1),name:"".concat(i.name," model ").concat(String.fromCharCode(65+t%26)).concat(t+1),slug:"".concat(i.slug,"-model-").concat(String.fromCharCode(65+t%26).toLowerCase()).concat(t+1),description:"Kvalitn\xed ".concat(i.name.toLowerCase()," s vynikaj\xedc\xedmi parametry. Perfektn\xed volba pro každodenn\xed použit\xed a n\xe1ročn\xe9 \xfakoly."),price:n,discountPrice:o,rating:c,stock:l,images:["/products/".concat(t%20+1,".jpg"),"/products/".concat((t+5)%20+1,".jpg"),"/products/".concat((t+10)%20+1,".jpg")],mainImage:"/products/".concat(t%20+1,".jpg"),categoryId:s.id,subcategoryId:i.id,sku:"SKU-".concat(s.id.toUpperCase(),"-").concat(i.id.toUpperCase(),"-").concat(t+1),isVisible:!0,properties:d,tags:["tag-".concat(t+1)],isFeatured:.2>Math.random(),createdAt:new Date(Date.now()-Math.floor(1e10*Math.random())),updatedAt:new Date}}),ev=[{id:"collection-1",name:"Novinky",description:"Nejnovějš\xed produkty v naš\xed nab\xeddce",products:ef.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).slice(0,8).map(e=>e.id),slug:"novinky",isActive:!0,createdAt:new Date(Date.now()-864e5),updatedAt:new Date},{id:"collection-2",name:"Doporučen\xe9 produkty",description:"Produkty, kter\xe9 naši z\xe1kazn\xedci miluj\xed",products:ef.filter(e=>void 0!==e.rating&&e.rating>=4.5).sort((e,t)=>{var r,s;return(null!==(r=t.rating)&&void 0!==r?r:0)-(null!==(s=e.rating)&&void 0!==s?s:0)}).slice(0,8).map(e=>e.id),slug:"doporucene-produkty",isActive:!0,createdAt:new Date(Date.now()-1728e5),updatedAt:new Date},{id:"collection-3",name:"V\xfdhodn\xe9 nab\xeddky",description:"Produkty za skvěl\xe9 ceny",products:ef.filter(e=>void 0!==e.discountPrice).sort((e,t)=>{let r=1-e.discountPrice/e.price;return 1-t.discountPrice/t.price-r}).slice(0,8).map(e=>e.id),slug:"vyhodne-nabidky",isActive:!0,createdAt:new Date(Date.now()-2592e5),updatedAt:new Date}];function eb(e){let t=new URLSearchParams;return e.categories.length>0&&t.set("categories",e.categories.join(",")),e.subcategories.length>0&&t.set("subcategories",e.subcategories.join(",")),e.priceRange&&(e.priceRange.min>0&&t.set("priceMin",e.priceRange.min.toString()),e.priceRange.max<1e5&&t.set("priceMax",e.priceRange.max.toString())),Object.keys(e.properties).length>0&&Object.entries(e.properties).forEach(e=>{let[r,s]=e;t.set("prop_".concat(r),s.join(","))}),e.sort&&"recommended"!==e.sort&&t.set("sort",e.sort),e.page&&e.page>1&&t.set("page",e.page.toString()),e.perPage&&12!==e.perPage&&t.set("perPage",e.perPage.toString()),t}function ej(){let e=(0,o.useRouter)(),t=(0,o.useSearchParams)(),{showToast:r}=(0,p.d)(),[i,g]=(0,a.useState)(!1),[h,f]=(0,a.useState)({categories:!0,price:!0}),[j,y]=(0,a.useState)("grid"),[N,k]=(0,a.useState)([0,1e5]),[A,P]=(0,a.useState)({categories:[],subcategories:[],priceRange:{min:0,max:1e5},properties:{},sort:"recommended",page:1,perPage:12});(0,a.useEffect)(()=>{if(t){let s=function(e){let t={categories:[],subcategories:[],priceRange:{min:0,max:1e5},properties:{},sort:"recommended",page:1,perPage:12},r=e.get("categories");r&&(t.categories=r.split(","));let s=e.get("subcategories");s&&(t.subcategories=s.split(","));let a=e.get("priceMin"),i=e.get("priceMax");for(let[r,s]of(a&&(t.priceRange.min=parseInt(a)),i&&(t.priceRange.max=parseInt(i)),Array.from(e.entries())))if(r.startsWith("prop_")){let e=r.substring(5);t.properties[e]=s.split(",")}let n=e.get("sort");n&&(t.sort=n);let o=e.get("page");o&&(t.page=parseInt(o));let l=e.get("perPage");return l&&(t.perPage=parseInt(l)),t}(t);if(P(e=>({...e,...s})),s.priceRange&&(void 0!==s.priceRange.min||void 0!==s.priceRange.max)){var e,r;k([null!==(e=s.priceRange.min)&&void 0!==e?e:0,null!==(r=s.priceRange.max)&&void 0!==r?r:1e5])}}},[t]);let M=e=>{f(t=>({...t,[e]:!t[e]}))},S=(t,r,s)=>{P(a=>{let i={...a};if("category"===t)"add"===s?i.categories=[...a.categories,r]:i.categories=a.categories.filter(e=>e!==r);else if("subcategory"===t)"add"===s?i.subcategories=[...a.subcategories,r]:i.subcategories=a.subcategories.filter(e=>e!==r);else if("property"===t){let[e,t]=r;i.properties[e]||(i.properties[e]=[]),"add"===s?i.properties[e]=[...i.properties[e],t]:(i.properties[e]=i.properties[e].filter(e=>e!==t),0===i.properties[e].length&&delete i.properties[e])}else"sort"===t&&(i.sort=r);let n=eb(i),o="/products?".concat(n.toString());return e.push(o,{scroll:!1}),i})},D=e=>{k(e)},B=t=>{P(r=>{let s={...r,priceRange:{min:t[0],max:t[1]}},a=eb(s),i="/products?".concat(a.toString());return e.push(i,{scroll:!1}),s})},I=()=>{P({categories:[],subcategories:[],priceRange:{min:0,max:1e5},properties:{},sort:"recommended",page:1,perPage:12}),k([0,1e5]),e.push("/products",{scroll:!1})},G=(0,a.useMemo)(()=>{let e=[...ef];if(A.categories.length>0&&(e=e.filter(e=>A.categories.includes(e.categoryId))),A.subcategories.length>0&&(e=e.filter(e=>void 0!==e.subcategoryId&&A.subcategories.includes(e.subcategoryId))),e=e.filter(e=>{var t;let r=null!==(t=e.discountPrice)&&void 0!==t?t:e.price;return r>=A.priceRange.min&&r<=A.priceRange.max}),Object.keys(A.properties).length>0&&(e=e.filter(e=>Object.entries(A.properties).every(t=>{let[r,s]=t;if(!e.properties||!e.properties[r])return!1;let a=e.properties[r];return Array.isArray(a)?a.some(e=>s.includes(e.toString())):s.includes(a.toString())}))),A.sort)switch(A.sort){case"price-asc":e.sort((e,t)=>{var r,s;return(null!==(r=e.discountPrice)&&void 0!==r?r:e.price)-(null!==(s=t.discountPrice)&&void 0!==s?s:t.price)});break;case"price-desc":e.sort((e,t)=>{var r,s;let a=null!==(r=e.discountPrice)&&void 0!==r?r:e.price;return(null!==(s=t.discountPrice)&&void 0!==s?s:t.price)-a});break;case"newest":e.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());break;case"rating-desc":e.sort((e,t)=>Number(t.rating)-Number(e.rating))}return e},[A,ef]),T=e=>{r("Produkt ".concat(e.name," byl přid\xe1n do koš\xedku"),"success","Produkt přid\xe1n do koš\xedku")},F=(0,a.useMemo)(()=>{let e=0;return A.categories.length>0&&(e+=1),A.subcategories.length>0&&(e+=1),(A.priceRange.min>0||A.priceRange.max<1e5)&&(e+=1),e+=Object.keys(A.properties).length},[A]),L=(0,a.useMemo)(()=>{let e=(t,r)=>{for(let s of r){if(s.id===t)return s.name;if(s.subcategories){let r=e(t,s.subcategories);if(r)return r}}return null};return A.categories.map(t=>e(t,eh)).filter(e=>null!==e)},[A.categories]),[V,H]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{window.scrollY>500?H(!0):H(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.jsxs)("div",{className:"min-h-screen pb-16 bg-background text-foreground",children:[(0,s.jsx)("div",{className:"border-b border-border",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsx)("nav",{className:"text-sm breadcrumbs",children:(0,s.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(n(),{href:"/",className:"text-muted-foreground hover:text-foreground",children:"Domů"})}),(0,s.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.A,{size:16,className:"text-muted-foreground"}),(0,s.jsx)("span",{className:"font-medium",children:"Produkty"})]}),L.length>0&&L.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.A,{size:16,className:"text-muted-foreground"}),(0,s.jsx)("span",{children:e})]},t))]})})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,s.jsx)("div",{className:"w-full md:w-72 lg:w-80 hidden md:block",children:(0,s.jsx)(ep,{categories:eh,filterState:A,expandedFilters:h,priceRangeValue:N,onFilterStateUpdate:S,onToggleFilter:M,onPriceRangeChange:D,onPriceRangeCommit:B,filteredProducts:G})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-sm mb-6 p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{className:"md:hidden flex items-center gap-2 px-3 py-2 border border-border rounded-lg hover:bg-accent transition-colors",onClick:()=>g(!0),children:[(0,s.jsx)(c.A,{size:16}),(0,s.jsx)("span",{children:"Filtry"}),F>0&&(0,s.jsx)(C,{className:"bg-carmine hover:bg-carmine",children:F})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground mr-2",children:"Nalezeno:"}),(0,s.jsxs)("span",{className:"font-semibold",children:[G.length," produktů"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground whitespace-nowrap",children:"Řadit dle:"}),(0,s.jsxs)("select",{className:"flex-1 p-2 border border-border rounded-lg bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-carmine",value:A.sort,onChange:e=>S("sort",e.target.value,"add"),children:[(0,s.jsx)("option",{value:"recommended",children:"Doporučen\xe9"}),(0,s.jsx)("option",{value:"price-asc",children:"Cena (nejnižš\xed)"}),(0,s.jsx)("option",{value:"price-desc",children:"Cena (nejvyšš\xed)"}),(0,s.jsx)("option",{value:"newest",children:"Nejnovějš\xed"}),(0,s.jsx)("option",{value:"rating-desc",children:"Nejl\xe9pe hodnocen\xe9"})]})]}),(0,s.jsxs)("div",{className:"hidden sm:flex items-center gap-1 border border-border rounded-lg overflow-hidden",children:[(0,s.jsx)("button",{className:"p-2 ".concat("grid"===j?"bg-accent text-foreground":"bg-card text-muted-foreground"),onClick:()=>y("grid"),"aria-label":"Zobrazit v mř\xedžce",children:(0,s.jsx)(d.A,{size:16})}),(0,s.jsx)("button",{className:"p-2 ".concat("list"===j?"bg-accent text-foreground":"bg-card text-muted-foreground"),onClick:()=>y("list"),"aria-label":"Zobrazit v seznamu",children:(0,s.jsx)(m.A,{size:16})})]})]})]}),F>0&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-border",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Aktivn\xed filtry:"}),L.length>0&&(0,s.jsxs)(C,{className:"bg-accent text-accent-foreground hover:bg-accent/80",children:["Kategorie: ",L.join(", "),(0,s.jsx)("button",{className:"ml-2",onClick:()=>{P(e=>({...e,categories:[],subcategories:[]}));let t=eb({...A,categories:[],subcategories:[]}),r="/products?".concat(t.toString());e.push(r,{scroll:!1})},children:(0,s.jsx)(u.A,{size:12})})]}),(A.priceRange.min>0||A.priceRange.max<1e5)&&(0,s.jsxs)(C,{className:"bg-accent text-accent-foreground hover:bg-accent/80",children:["Cena: ",A.priceRange.min.toLocaleString("cs-CZ")," - ",A.priceRange.max.toLocaleString("cs-CZ")," Kč",(0,s.jsx)("button",{className:"ml-2",onClick:()=>{P(e=>({...e,priceRange:{min:0,max:1e5}})),k([0,1e5]);let t=eb({...A,priceRange:{min:0,max:1e5}}),r="/products?".concat(t.toString());e.push(r,{scroll:!1})},children:(0,s.jsx)(u.A,{size:12})})]}),Object.entries(A.properties).map(t=>{let[r,a]=t;return(0,s.jsxs)(C,{className:"bg-accent text-accent-foreground hover:bg-accent/80",children:[r,": ",a.join(", "),(0,s.jsx)("button",{className:"ml-2",onClick:()=>{P(t=>{let s={...t},a={...s.properties};delete a[r],s.properties=a;let i=eb(s),n="/products?".concat(i.toString());return e.push(n,{scroll:!1}),s})},children:(0,s.jsx)(u.A,{size:12})})]},r)}),(0,s.jsx)("button",{className:"text-sm text-carmine hover:text-carmine/80 font-medium",onClick:I,children:"Vymazat vše"})]})})]}),0===A.categories.length&&0===A.subcategories.length&&(0,s.jsx)("div",{className:"mb-8 space-y-12",children:ev.map(e=>(0,s.jsx)(b,{collection:e,products:ef,onAddToCart:T},e.id))}),G.length>0?(0,s.jsx)(w,{products:G,onAddToCart:T,onCompareProduct:e=>{r("Produkt ".concat(e.name," byl přid\xe1n do srovn\xe1n\xed"),"info","Srovn\xe1n\xed produktů")},viewMode:j}):(0,s.jsxs)("div",{className:"text-center py-16 bg-card border border-border rounded-lg",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 mb-4 text-muted-foreground",children:(0,s.jsx)(x.A,{size:64,className:"w-full h-full"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Nebyly nalezeny ž\xe1dn\xe9 produkty"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Zkuste pros\xedm upravit filtry nebo vyhledat jin\xfd produkt."}),(0,s.jsx)(z,{onClick:I,className:"bg-carmine hover:bg-carmine/90",children:"Vymazat všechny filtry"})]})]})]})}),(0,s.jsx)(R.N,{children:i&&(0,s.jsxs)(v.P.div,{className:"fixed inset-0 z-50 md:hidden overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>g(!1)}),(0,s.jsxs)(v.P.div,{className:"absolute inset-y-0 left-0 w-full max-w-xs bg-card shadow-xl overflow-y-auto",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},children:[(0,s.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:"Filtry"}),(0,s.jsx)("button",{className:"p-2 rounded-full hover:bg-accent",onClick:()=>g(!1),children:(0,s.jsx)(u.A,{size:20})})]}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(ep,{categories:eh,filterState:A,expandedFilters:h,priceRangeValue:N,onFilterStateUpdate:(e,t,r)=>{S(e,t,r)},onToggleFilter:M,onPriceRangeChange:D,onPriceRangeCommit:B,filteredProducts:G})}),(0,s.jsx)("div",{className:"p-4 border-t border-border",children:(0,s.jsxs)(z,{className:"w-full bg-carmine hover:bg-carmine/90",onClick:()=>g(!1),children:["Zobrazit ",G.length," produktů"]})})]})]})}),(0,s.jsx)(R.N,{children:V&&(0,s.jsx)(v.P.button,{className:"fixed bottom-6 right-6 p-3 bg-carmine text-white rounded-full shadow-lg hover:bg-carmine/90 transition-colors z-40",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},"aria-label":"Scroll to top",children:(0,s.jsx)(l.A,{className:"rotate-90",size:24})})})]})}},3883:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>h,d:()=>f});var s=r(5155),a=r(2115),i=r(3697),n=r(3239),o=r(1594),l=r(3950),c=r(8617),d=r(767);let m={success:(0,s.jsx)(n.A,{className:"h-5 w-5 text-green-500"}),error:(0,s.jsx)(o.A,{className:"h-5 w-5 text-red-500"}),warning:(0,s.jsx)(l.A,{className:"h-5 w-5 text-yellow-500"}),info:(0,s.jsx)(c.A,{className:"h-5 w-5 text-white"})},u={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-carmine border-carmine/80"},x={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-white"};function p(e){let{toasts:t,removeToast:r}=e;return 0===t.length?null:(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-3",children:t.map(e=>(0,s.jsx)("div",{className:"animate-toast",children:(0,s.jsxs)("div",{className:"flex items-start p-4 rounded-lg shadow-lg border ".concat(u[e.type]," max-w-sm"),children:[(0,s.jsx)("div",{className:"flex-shrink-0 mr-3",children:m[e.type]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[e.title&&(0,s.jsx)("h3",{className:"text-sm font-medium ".concat(x[e.type]),children:e.title}),(0,s.jsx)("p",{className:"text-sm ".concat(x[e.type]," mt-1"),children:e.message})]}),(0,s.jsx)("button",{onClick:()=>r(e.id),className:"flex-shrink-0 ml-3 p-1 rounded-full hover:bg-gray-200 transition-colors",children:(0,s.jsx)(d.A,{className:"h-4 w-4 text-gray-500"})})]})},e.id))})}let g=(0,a.createContext)(void 0);function h(e){let{children:t}=e,[r,n]=(0,a.useState)([]),o=e=>{n(t=>t.filter(t=>t.id!==e))};return(0,s.jsxs)(g.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,a=(0,i.A)(),l={id:a,message:e,type:t,title:r,duration:s};n(e=>[...e,l]),s!==1/0&&setTimeout(()=>{o(a)},s)},toasts:r,removeToast:o},children:[t,(0,s.jsx)(p,{toasts:r,removeToast:o})]})}function f(){let e=(0,a.useContext)(g);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},5214:(e,t,r)=>{Promise.resolve().then(r.bind(r,3720))}},e=>{var t=t=>e(e.s=t);e.O(0,[601,285,441,587,358],()=>t(5214)),_N_E=e.O()}]);